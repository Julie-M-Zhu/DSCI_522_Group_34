---
title: "Exploratory data analysis of Vancouver Graffiti Data"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message=FALSE)
library(tidyverse)
library(knitr)
library(ggplot2)
```

# Summary of the dataset

The dataset used in this project provides information on the location of sites with graffiti as identified by City staff. It is sourced from the [Vancouver Open Data Portal](https://opendata.vancouver.ca/pages/home/), specifically [this file](https://opendata.vancouver.ca/explore/dataset/graffiti/information/). The license of data can be found [here](https://opendata.vancouver.ca/pages/licence/).

There are 8,028 rows and 3 columns in our dataset. Each row in the dataset record the counts the number of graffiti incidents by the geographic local area of Vancouver along with the spatial representation of the location by coordinates stored as JSON format.

```{r load data, warning=FALSE}
graffiti <- read_delim("../data/dataset.csv", delim = ";")
head(graffiti)
glimpse(graffiti)
```

We are investigating into 2 local areas of Vancouver; they are the 'Downtown' and the 'Strathcona' regions.
We attempt to conduct a Hypothesis testing with a suitable test flavor to answer a statistical research question, that is, whether the number of graffiti per location of Vancouver's downtown area differs from the number of graffiti per location of the Vancouver Strathcona area. 

After selecting relevant columns, there are 2,121 observations related our research interest and below we
show the number of observations for each interested Vancouver region and the first few line of the dataset .

```{r load and process data}
# read data and select data based our interest
graffiti <- graffiti %>%
    rename_with(~ tolower(gsub(" ", "_", .x, fixed = TRUE))) %>%
    select(count, geo_local_area) %>%
    filter(geo_local_area == "Downtown" | geo_local_area == "Strathcona") %>%
    drop_na()

paste("Number of rows:", nrow(graffiti))
head(graffiti)
```

```{r show table}
# show the count by region category
kable(summarise(graffiti,
                `Downtown` = sum(geo_local_area  == "Downtown"),
                `Strathcona` = sum(geo_local_area  == "Strathcona")),
  caption = "Table 1. Counts of observation for each class.")

```

# Exploratory analysis on the dataset

```{r eda}

```
